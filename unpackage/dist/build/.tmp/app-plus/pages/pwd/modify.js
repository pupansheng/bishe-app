(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/pwd/modify"],{"4adf":function(t,e,n){},"55c9":function(t,e,n){"use strict";var o=n("4adf"),i=n.n(o);i.a},6165:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("2f62"),i=a(n("9f9e"));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){r(t,e,n[e])})}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=function(){return n.e("components/cmd-nav-bar/cmd-nav-bar").then(n.bind(null,"36f6"))},u=function(){return n.e("components/cmd-page-body/cmd-page-body").then(n.bind(null,"7d7d"))},l=function(){return n.e("components/cmd-transition/cmd-transition").then(n.bind(null,"626f"))},f=function(){return n.e("components/cmd-input/cmd-input").then(n.bind(null,"3dc4"))},d={components:{cmdNavBar:c,cmdPageBody:u,cmdTransition:l,cmdInput:f},computed:s({},(0,o.mapState)(["serverUrl"])),data:function(){return{mobile:{phone:"",code:"",passwordOne:"",passwordTwo:""},passwordReg:/^\w+$/,phoneReg:/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/,safety:{time:60,state:!1,interval:""},modifyMobile:!1}},watch:{mobile:{handler:function(t){this.phoneReg.test(t.phone)&&6==t.code.length&&t.passwordOne.length>=8&&t.passwordOne==t.passwordTwo?this.modifyMobile=!0:this.modifyMobile=!1},deep:!0}},methods:{fnModify:function(){this.mobile.code;var e=this.mobile.phone,n=this.mobile.passwordOne,o={};if(o.phone=e,o.password=n,this.mobile.passwordOne!=this.mobile.passwordTwo&&this.mobile.passwordOne)t.showToast({title:"两次密码不一致！",image:"../../static/img/alert-3.png",duration:3e3});else if(""!=this.mobile.phone&&""!=this.mobile.code){var a={};a.url="/user/update/resetpassword/"+this.mobile.phone+"/"+this.mobile.code,a.data=o,a.title="更新中",i.default.postWithNoStatus(a).then(function(e){e.data.status?(t.showToast({title:"更新成功：",image:"../../static/img/alert-2.png",duration:1500}),setTimeout(function(){t.switchTab({url:"../user/user"})},1500)):t.showToast({title:"更新失败:"+e.data.message,image:"../../static/img/alert-3.png",duration:2e3})},function(e){t.showToast({title:"更新失败:"+e,image:"../../static/img/alert-3.png",duration:3e3})})}else t.showToast({title:"验证码和手机号不能为空！",image:"../../static/img/alert-3.png",duration:3e3})},fnGetPhoneCode:function(){var e=this;this.phoneReg.test(this.mobile.phone)?t.showToast({title:"正在发送验证码",icon:"loading",success:function(){var n={};n.url="/message/getYanzhengma/"+e.mobile.phone+"/update",n.title="发送中",i.default.get(n).then(function(n){t.showToast({icon:"none",title:"发送成功"}),e.safety.state=!0,e.safety.interval=setInterval(function(){e.safety.time--<=0&&(e.safety.time=60,e.safety.state=!1,clearInterval(e.safety.interval))},1e3)},function(e){t.showToast({icon:"none",title:"发送失败:"+e})})}}):t.showToast({title:"手机号不正确",icon:"none"})},beforeDestroy:function(){clearInterval(this.safety.interval)}}};e.default=d}).call(this,n("6e42")["default"])},"6fcf":function(t,e,n){"use strict";n.r(e);var o=n("c75f"),i=n("adfb");for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);n("55c9");var s,r=n("f0c5"),c=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);e["default"]=c.exports},adfb:function(t,e,n){"use strict";n.r(e);var o=n("6165"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=i.a},c75f:function(t,e,n){"use strict";var o,i=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){!t.safety.state&&t.fnGetPhoneCode()})},a=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return o})},d129:function(t,e,n){"use strict";(function(t){n("65f7"),n("921b");o(n("66fd"));var e=o(n("6fcf"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])}},[["d129","common/runtime","common/vendor"]]]);