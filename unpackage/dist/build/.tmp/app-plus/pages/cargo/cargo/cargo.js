(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/cargo/cargo/cargo"],{"2d27":function(t,e,n){"use strict";(function(t){n("65f7"),n("921b");o(n("66fd"));var e=o(n("855d"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},3663:function(t,e,n){},"49fa":function(t,e,n){"use strict";var o=n("3663"),i=n.n(o);i.a},"84b3":function(t,e,n){"use strict";var o,i=function(){var t=this,e=t.$createElement;t._self._c},r=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"a",function(){return o})},"855d":function(t,e,n){"use strict";n.r(e);var o=n("84b3"),i=n("9239");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("49fa");var u,a=n("f0c5"),d=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],u);e["default"]=d.exports},9239:function(t,e,n){"use strict";n.r(e);var o=n("b7df"),i=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);e["default"]=i.a},b7df:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("2f62"),i=r(n("9f9e"));function r(t){return t&&t.__esModule?t:{default:t}}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){a(t,e,n[e])})}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(){return n.e("node-modules/@dcloudio/uni-ui/lib/uni-card/uni-card").then(n.bind(null,"3aef"))},c=function(){return n.e("node-modules/@dcloudio/uni-ui/lib/uni-swiper-dot/uni-swiper-dot").then(n.bind(null,"b651"))},l=function(){return n.e("node-modules/@dcloudio/uni-ui/lib/uni-icons/uni-icons").then(n.bind(null,"2439"))},s=function(){return n.e("node-modules/@dcloudio/uni-ui/lib/uni-drawer/uni-drawer").then(n.bind(null,"e9c7"))},f=function(){return n.e("components/cmd-cell-item/cmd-cell-item").then(n.bind(null,"f4bb"))},g=function(){return n.e("components/cmd-avatar/cmd-avatar").then(n.bind(null,"6d9c"))},b={computed:(0,o.mapState)(["forcedLogin","hasLogin","userName","serverUrl","user","linkList"]),components:{uniCard:d,uniSwiperDot:c,uniIcons:l,uniDrawer:s,cmdCelItem:f,cmdAvatar:g},data:function(){return{entity:{},info:[{colorClass:"uni-bg-red",url:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/images/shuijiao.jpg",content:"内容 A"},{colorClass:"uni-bg-green",url:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/images/muwu.jpg",content:"内容 B"},{colorClass:"uni-bg-blue",url:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/images/cbd.jpg",content:"内容 C"}],dotStyle:[{backgroundColor:"rgba(0, 0, 0, .3)",border:"1px rgba(0, 0, 0, .3) solid",color:"#fff",selectedBackgroundColor:"rgba(0, 0, 0, .9)",selectedBorder:"1px rgba(0, 0, 0, .9) solid"},{backgroundColor:"rgba(255, 90, 95,0.3)",border:"1px rgba(255, 90, 95,0.3) solid",color:"#fff",selectedBackgroundColor:"rgba(255, 90, 95,0.9)",selectedBorder:"1px rgba(255, 90, 95,0.9) solid"},{backgroundColor:"rgba(83, 200, 249,0.3)",border:"1px rgba(83, 200, 249,0.3) solid",color:"#fff",selectedBackgroundColor:"rgba(83, 200, 249,0.9)",selectedBorder:"1px rgba(83, 200, 249,0.9) solid"}],modeIndex:-1,styleIndex:-1,current:0,mode:"default",dotsStyles:{},imageArray:[],isShow:!0,isShow2:!0,drawer:!1,entity2:{}}},methods:u({},(0,o.mapMutations)(["setLinkList"]),{dateFormat:function(t,e){var n,o={"Y+":e.getFullYear().toString(),"m+":(e.getMonth()+1).toString(),"d+":e.getDate().toString(),"H+":e.getHours().toString(),"M+":e.getMinutes().toString(),"S+":e.getSeconds().toString()};for(var i in o)n=new RegExp("("+i+")").exec(t),n&&(t=t.replace(n[1],1==n[1].length?o[i]:o[i].padStart(n[1].length,"0")));return t},talkTo:function(e){var n=this,o=!1,i=n.linkList,r=new Date,u=(n.dateFormat("YYYY-mm-dd HH:MM",r),{type:"chat",title:e.phone,name:e.username,url:[e.headimage],history:[],message:"",time:"",count:null,stick:!1,disabled:!1,type2:2});if(i.forEach(function(n,i){n.title==e.phone&&(t.navigateTo({url:"../../HM-chat/HM-chat?id="+i}),o=!0)}),!o){i.push(u),this.setLinkList(i);var a=i.length-1;t.navigateTo({url:"../../HM-chat/HM-chat?id="+a})}},seeOwner:function(){var t=this.entity.tbUser.id,e=this;i.default.get({url:"/order/getBasicInfo/"+t}).then(function(t){e.entity2=t},function(t){}),this.drawer=!this.drawer},change:function(t){this.current=t.detail.current},fnOrder:function(){var e=this,n={};if(n.userid=e.user.id,n.userpointid=e.entity.id,n.ownerid=e.entity.tbUser.id,n.ownerid!=n.userid){n.goodsname=e.entity.goods.name,n.goodsimage=e.entity.cargoImage,n.goodsweight=e.entity.goods.weight,n.goodsvolume=e.entity.goods.volume,n.goodsstatus=e.entity.status;var o={data:n,url:"/order/add"};i.default.post(o).then(function(e){t.showToast({icon:"none",title:"接单成功 请刷新页面"}),setTimeout(function(){t.navigateBack({delta:1})},1500)},function(e){setTimeout(function(){t.hideLoading(),t.navigateBack({delta:1})},1500)})}else t.showToast({icon:"none",title:"自己不能接自己发布的订单"})}}),onLoad:function(e){var n=this;n.isShow=!0;var o=e.id,r=e.type,u={};u.url="/user/userPoint/findOne/"+o,u.data={},i.default.post(u).then(function(e){n.entity=e,r&&(n.isShow2=!1),r||0==e.status&&(t.showToast({icon:"none",title:"该包裹已被其他用户接单，暂时无法接单"}),n.isShow=!1);var o=JSON.parse(e.cargoImage);o.forEach(function(t){var e={colorClass:"uni-bg-red",url:t,content:"物品详情"};n.imageArray.push(e)})},function(e){setTimeout(function(){t.hideLoading(),t.navigateBack({delta:1})},1500)})}};e.default=b}).call(this,n("6e42")["default"])}},[["2d27","common/runtime","common/vendor"]]]);